plugins { id "io.spring.dependency-management" }

dependencyManagement {
    imports {
        mavenBom("org.springframework.boot:spring-boot-dependencies:${springBootVersion}")
    }
}

allprojects {
    dependencies {
        implementation "org.springframework.boot:spring-boot-starter-web", {
            exclude group: 'org.springframework.boot', module: 'spring-boot-starter-json'
            exclude group: 'org.springframework.boot', module: 'spring-boot-starter-validation'
        }
        implementation 'org.springframework.boot:spring-boot-starter-security'

        implementation project(':bend-library:domain')
        testImplementation project(':bend-library:config:database')
        testImplementation project(':bend-library:config:database:rdbms')
        testRuntime "org.postgresql:postgresql:$postgreVersion"
    }
}

subprojects {
    jar {
        archivesBaseName = 'bend-library-config-security-' + project.name
    }

    dependencies {
        implementation project(':bend-library:config:security')
    }
}