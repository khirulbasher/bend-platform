<div *ngIf="load">
  <p-table [columns]="crudData.data.columns" [responsive]="true" [value]="crudData.data.values" [alwaysShowPaginator]="false" [lazy]="true" [paginator]="true" (onPage)="onPage($event)" [rows]="rows" [showCurrentPageReport]="true" [(first)]="first"
           currentPageReportTemplate="Showing {{pageCount + 1}} to {{crudData.totalPages}} of {{crudData.totalPages}} Pages">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{col}}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowDataSets>
      <tr>
        <td *ngFor="let indexValue of crudData.data.indexes">
          {{indexValue.dynamic ? compile(indexValue, rowDataSets) : rowDataSets[indexValue.index]}}
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      <tr>
        <td class="center-align" [colSpan]="crudData.data.indexes.length">
          Showing {{(pageCount * pageSize ) + crudData.data.values.length}} of {{crudData.totalElements}} Users
        </td>
      </tr>
    </ng-template>
  </p-table>
  <div class="center-align" style="margin-bottom: 1em; margin-top: 1em;">
    <button type="button" pButton icon="pi pi-chevron-left" (click)="prev()" style="margin-right:.5em" [disabled]="isFirstPage()"></button>
    <button type="button" pButton icon="pi pi-refresh" (click)="reset()" style="margin-right:.5em"></button>
    <button type="button" pButton icon="pi pi-chevron-right" (click)="next()" [disabled]="isLastPage()"></button>
  </div>
</div>
