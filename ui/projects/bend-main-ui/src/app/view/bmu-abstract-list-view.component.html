<div *ngIf="load">
  <p-table [columns]="crudData.data.columns" resizableColumns="true" columnResizeMode="FIT" [responsive]="true" [value]="crudData.data.values" [lazy]="true" [paginator]="false" [rows]="pageSize" [showCurrentPageReport]="false" [(first)]="pageCount">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{col}}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowDataSets>
      <tr>
        <td *ngFor="let indexValue of crudData.data.indexes">
          {{indexValue.dynamic ? compile(indexValue, rowDataSets) : rowDataSets[indexValue.index]}}
        </td>
        <td class="ui-g-12" style="padding: 0 0 0 0">
          <div class="ui-g-4">
            <button pButton class="ui-button-secondary" label="View" icon="pi pi-eye"></button>
          </div>
          <div class="ui-g-4">
            <button pButton class="ui-button-info" label="{{uiModel.tableStructure.actionColumn.actionEditName}}" icon="pi pi-pencil"></button>
          </div>
          <div class="ui-g-4">
            <button pButton class="ui-button-danger" label="{{uiModel.tableStructure.actionColumn.actionDeleteName}}" icon="pi pi-trash"></button>
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      <tr>
        <td class="element-center" [colSpan]="crudData.data.columns.length">
          Showing {{(pageCount * pageSize ) + crudData.data.values.length}} of {{crudData.totalElements}} Users
        </td>
      </tr>
    </ng-template>
  </p-table>
  <div class="element-center" style="margin-bottom: 1em; margin-top: 1em;">
    <button type="button" pButton icon="pi pi-chevron-left" (click)="prev()" style="margin-right:.5em" [disabled]="isFirstPage()"></button>
    <button type="button" pButton icon="pi pi-refresh" (click)="reset()" style="margin-right:.5em"></button>
    <button type="button" pButton icon="pi pi-chevron-right" (click)="next()" [disabled]="isLastPage()"></button>
  </div>
</div>
