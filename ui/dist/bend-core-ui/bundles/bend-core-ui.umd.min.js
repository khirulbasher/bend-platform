!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("bend-core"),require("@angular/core"),require("primeng/dynamicdialog"),require("primeng/api"),require("primeng/dialog"),require("@angular/platform-browser"),require("@angular/forms"),require("primeng/toast"),require("primeng/inputtext"),require("primeng/button"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("bend-core-ui",["exports","bend-core","@angular/core","primeng/dynamicdialog","primeng/api","primeng/dialog","@angular/platform-browser","@angular/forms","primeng/toast","primeng/inputtext","primeng/button","@angular/common/http"],e):e((t=t||self)["bend-core-ui"]={},t.bendCore,t.ng.core,t.dynamicdialog,t.api,t.dialog,t.ng.platformBrowser,t.ng.forms,t.toast,t.inputtext,t.button,t.ng.common.http)}(this,(function(t,e,n,i,o,r,a,s,c,u,l,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function d(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function f(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}var y,S=function(){};(y=t.DataType||(t.DataType={}))[y.TEXT=0]="TEXT",y[y.LONG_TEXT=1]="LONG_TEXT",y[y.SELECT=2]="SELECT";var m=function(){},b=function(){},E=function(){this.title="ACTION",this.actionViewName="View",this.actionEditName="Edit",this.actionDeleteName="Delete",this.actionDisableIndex=0},C=function(t,e,n){void 0===t&&(t="/bmu-crud/view"),void 0===e&&(e="/bmu-crud/edit"),void 0===n&&(n="/bmu-crud/delete"),this.viewRoute=t,this.editRoute=e,this.deleteRoute=n},T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(e.BaseData),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(e.BaseData),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(e.BaseData),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(e.BaseData),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(e.BaseData),O=function(){function t(){}return t.startFromThis=function(t){return"/"+t},t}(),A=function(){function t(){this.authoritiesConstants=new e.AuthoritiesConstants,this.today=new Date,this.DEF_LANG_KEY="en"}return t.prototype.makeRouteStartFromThis=function(t){return O.startFromThis(t)},Object.defineProperty(t.prototype,"authorities",{get:function(){return this.authoritiesConstants},enumerable:!0,configurable:!0}),t.prototype.prepareTranslate=function(t,e){t.setDefaultLang(this.DEF_LANG_KEY),t.use(e.activatedKey())},t}(),B=function(t){function n(e,n,i,o,r,a,s,c){var u=t.call(this)||this;return u.crudService=e,u.toastService=n,u.consoleService=i,u.appUtilService=o,u.compiler=r,u.uiModel=a,u.translate=s,u.langKeyService=c,u.SUCCESS="Active Status Changed Successfully",u.FAILED="Active Status Change Failed",u.pageSize=2,u.pageCount=0,u.load=!1,u}return d(n,t),n.prototype.ngOnInit=function(){t.prototype.prepareTranslate.call(this,this.translate,this.langKeyService),this.crudData=this.emptyData(),this.fetchAll()},n.prototype.fetchAll=function(){var t=this;this.crudService.fetchAllFlexible({page:this.pageCount,size:this.pageSize}).subscribe((function(n){n.status===e.httpStatus.OK&&n.body.status.toString()===e.BendStatusText.SUCCESS?(t.crudData=n.body,t.crudData.data.columns.push(t.uiModel.tableStructure.actionColumn.title),t.load=!0):t.consoleService.error("Crud Data Fetch Problem")}),(function(e){t.consoleService.error("Error Occurred During Crud Data Fetch",e)}))},n.prototype.compile=function(t,e){return this.compiler.compile(t,e)},n.prototype.prev=function(){this.pageCount--,this.reshape(),this.fetchAll()},n.prototype.isFirstPage=function(){return 0===this.pageCount},n.prototype.reset=function(){this.pageCount=0,this.fetchAll()},n.prototype.next=function(){this.pageCount++,this.reshape(),this.fetchAll()},n.prototype.isLastPage=function(){return this.pageCount===this.crudData.totalPages-1},n.prototype.onPage=function(t){console.log(t)},n.prototype.reshape=function(){this.pageCount<0?this.pageCount=0:this.pageCount>this.crudData.totalPages&&(this.pageCount=this.crudData.totalPages)},n.prototype.emptyData=function(){var t=new e.BaseFlexibleCrudViewData;t.columns=[],t.indexes=[],t.values=[];var n=new e.PageableDataResponse;return n.totalPages=0,n.totalElements=0,n.status=e.BendStatus.FAILURE,n.data=t,n.dataTypes=[],n},n}(A),R=function(t){function n(e,n,i,o,r,a,s,c){var u=t.call(this)||this;return u.activatedRoute=e,u.userCrudService=n,u.toastService=i,u.consoleService=o,u.textProcessingService=r,u.uiModel=a,u.translate=s,u.langKeyService=c,u}return d(n,t),n.prototype.ngOnInit=function(){t.prototype.prepareTranslate.call(this,this.translate,this.langKeyService),this.ready=!1,this.viewId=this.activatedRoute.snapshot.params.id,null==this.viewId?this.toastService.error("Cannot fetch view Data, id param empty"):this.fetchData()},n.prototype.fetchData=function(){var t=this;this.userCrudService.findOne(this.viewId).subscribe((function(e){t.response(e)}),(function(e){t.error(e)}))},n.prototype.response=function(t){t.ok&&t.body.status.toString()===e.BendStatusText.SUCCESS?(this.consoleService.message("Successfully Fetch Detail View Data"),this.crudData=t.body.data,this.ready=!0):this.toastService.error("Error during Detail View data fetch")},n.prototype.error=function(t){this.consoleService.error("Error During Detail View Data Fetch",t)},n.prototype.getAllAvailableFields=function(t){var e=Object.getOwnPropertyNames(t),n=e.indexOf("currentTime");return e.splice(n,n+1),n=e.indexOf("id"),e.splice(n,n+1),n=e.indexOf("password"),e.splice(n,n+1),e},n.prototype.getFieldValue=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e).value;return null==n?"N/A":"active"===e?n?"Active":"Inactive":n},n.prototype.prepareField=function(t){return"active"===t?"Active Status":this.textProcessingService.camelCaseToSentence(t)},n}(A),M=function(t){function e(e,n){var i=t.call(this)||this;return i.translate=e,i.langKeyService=n,i}return d(e,t),e.prototype.ngOnInit=function(){t.prototype.prepareTranslate.call(this,this.translate,this.langKeyService)},e}(A),L="key-bottom-center",P=function(){function t(t){this.messageService=t,this.SEVERITY_INFO="info",this.SEVERITY_ERROR="error",this.MESSAGE_TITLE="Alert",this.POSITION_KEY_CENTER="key-center",this.POSITION_KEY_BOTTOM_CENTER="key-bottom-center"}return t.prototype.info=function(t,e){void 0===e&&(e=L),this.show(t,this.MESSAGE_TITLE,this.SEVERITY_INFO,e)},t.prototype.infoBottomCenter=function(t){this.showMessage({severity:this.SEVERITY_INFO,summary:this.MESSAGE_TITLE,detail:t,key:this.POSITION_KEY_BOTTOM_CENTER})},t.prototype.error=function(t,e){void 0===e&&(e=L),this.show(t,this.MESSAGE_TITLE,this.SEVERITY_ERROR,e)},t.prototype.show=function(t,e,n,i){this.showMessage({severity:n,summary:e,detail:t,key:i})},t.prototype.showMessage=function(t){this.messageService.add(t)},t.ctorParameters=function(){return[{type:o.MessageService}]},t.ɵprov=n["ɵɵdefineInjectable"]({factory:function(){return new t(n["ɵɵinject"](o.MessageService))},token:t,providedIn:"root"}),t=f([n.Injectable({providedIn:"root"})],t)}(),F=function(){function t(t,e){this.ref=t,this.toastService=e}return t.prototype.authenticationState=function(t,e,n){t?(this.toastService.info("Authentication Success"),this.ref.close()):this.toastService.error("Authentication Failed")},t}(),x=function(){function t(t,e,n,i){this.authenticationService=t,this.ref=e,this.config=n,this.toastService=i}return t.prototype.ngOnInit=function(){this.loginInfo=new e.LoginInfo},t.prototype.login=function(){this.authenticationService.authenticate(this.loginInfo,new F(this.ref,this.toastService))},t.prototype.cancel=function(){this.ref.close()},t.ctorParameters=function(){return[{type:e.BendAuthenticationService},{type:i.DynamicDialogRef},{type:i.DynamicDialogConfig},{type:P}]},t=f([n.Component({selector:"bend-login-dialog",template:'<div>\r\n  <div class="ui-g-12">\r\n    <label for="id-bmu-view-login-dialog-username">Username</label>\r\n    <input class="ui-g-12" id="id-bmu-view-login-dialog-username" [(ngModel)]="loginInfo.username" type="text" pInputText />\r\n  </div>\r\n  <div class="ui-g-12">\r\n    <label for="id-bmu-view-login-dialog-password">Password</label>\r\n    <input class="ui-g-12" id="id-bmu-view-login-dialog-password" [(ngModel)]="loginInfo.password" type="password" pInputText />\r\n  </div>\r\n  <div class="ui-g-12">\r\n    <div class="element-right">\r\n      <button pButton label="Cancel" style="margin-right: 1em" (click)="cancel()" icon="fa fa-times-circle"></button>\r\n      <button pButton label="Login" (click)="login()" icon="fa fa-check-circle"></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n'})],t)}(),K=v([i.DynamicDialogModule,r.DialogModule,c.ToastModule,u.InputTextModule,l.ButtonModule],[a.BrowserModule,s.FormsModule]),N=[e.BendCoreModule],j=[x],k=[x],Y=[],G=function(){function t(){}return t=f([n.NgModule({declarations:v(j,Y),imports:v(N,K,[p.HttpClientModule]),providers:[o.MessageService],exports:v(Y),entryComponents:v(k)})],t)}(),V=function(){function t(t,e,n){this.consoleService=t,this.bendToastService=e,this.storageService=n,this.DEF_LANG_KEY="en"}return t.prototype.activeKey=function(t){this.availableKeys().indexOf(t)<0?this.consoleService.error("Theres no language key available for:"+t):(this.storageService.put(e.BendCoreConstants.cookies.routingDatabase.REGISTRY_TYPE,e.BendCoreConstants.cookies.routingDatabase.detectionTypes.LOCALE_KEY),this.storageService.put(e.BendCoreConstants.cookies.routingDatabase.REGISTRY_VALUE,t),this.storageService.put(e.BendCoreConstants.cookies.lang.USE_LANG_KEY,t),this.bendToastService.infoBottomCenter("Language "+t+"Successfully Changed"))},t.prototype.activatedKey=function(){var t=this.storageService.get(e.BendCoreConstants.cookies.lang.USE_LANG_KEY,this.DEF_LANG_KEY);return null==t?this.availableKeys()[0]:t},t.prototype.availableKeys=function(){return["en","bn"]},t.ctorParameters=function(){return[{type:e.ConsoleService},{type:P},{type:e.StorageService}]},t.ɵprov=n["ɵɵdefineInjectable"]({factory:function(){return new t(n["ɵɵinject"](e.ConsoleService),n["ɵɵinject"](P),n["ɵɵinject"](e.StorageService))},token:t,providedIn:"root"}),t=f([n.Injectable({providedIn:"root"})],t)}();t.ActionColumn=E,t.ActionRoute=C,t.AuthState=F,t.BendAbstractDetailViewComponent=R,t.BendAbstractListViewComponent=B,t.BendBaseComponent=A,t.BendBaseLangComponent=M,t.BendCoreUiModule=G,t.BendLoginDialogComponent=x,t.BendToastService=P,t.BendUiField=S,t.BendUiModel=m,t.District=w,t.Division=D,t.GsmLocation=T,t.LangKeyService=V,t.Place=_,t.RouteUtil=O,t.TableStructure=b,t.Thana=I,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=bend-core-ui.umd.min.js.map